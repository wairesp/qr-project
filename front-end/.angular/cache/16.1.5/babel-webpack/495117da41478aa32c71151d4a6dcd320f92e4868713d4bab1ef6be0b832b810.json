{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let AppComponent = class AppComponent {\n  constructor(qrcode) {\n    this.qrcode = qrcode;\n    this.title = \"DieLess\";\n    // https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia#front_and_back_camera\n    this.config = {\n      constraints: {\n        video: {\n          width: window.innerWidth\n        }\n      }\n      // canvasStyles: [\n      //   { /* layer */\n      //     lineWidth: 1,\n      //     fillStyle: '#00950685',\n      //     strokeStyle: '#00950685',\n      //   },\n      //   { /* text */\n      //     font: '17px serif',\n      //     fillStyle: '#ff0000',\n      //     strokeStyle: '#ff0000',\n      //   }\n      // ],\n    };\n\n    this.qrCodeResult = [];\n    this.qrCodeResult2 = [];\n  }\n  ngAfterViewInit() {\n    this.action.isReady.subscribe(res => {\n      // this.handle(this.action, 'start');\n    });\n  }\n  onEvent(e, action) {\n    // e && action && action.pause();\n    console.log(e);\n  }\n  handle(action, fn) {\n    const playDeviceFacingBack = devices => {\n      // front camera or back camera check here!\n      const device = devices.find(f => /back|rear|environment/gi.test(f.label)); // Default Back Facing Camera\n      action.playDevice(device ? device.deviceId : devices[0].deviceId);\n    };\n    if (fn === 'start') {\n      action[fn](playDeviceFacingBack).subscribe(r => console.log(fn, r), alert);\n    } else {\n      action[fn]().subscribe(r => console.log(fn, r), alert);\n    }\n  }\n  onDowload(action) {\n    action.download().subscribe(console.log, alert);\n  }\n  onSelects(files) {\n    this.qrcode.loadFiles(files, 0.5).subscribe(res => {\n      this.qrCodeResult = res;\n    });\n  }\n  onSelects2(files) {\n    this.qrcode.loadFilesToScan(files, this.config, 0.5).subscribe(res => {\n      console.log(res);\n      this.qrCodeResult2 = res;\n    });\n  }\n};\n__decorate([ViewChild('action')], AppComponent.prototype, \"action\", void 0);\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})], AppComponent);","map":{"version":3,"names":["Component","AppComponent","constructor","qrcode","title","config","constraints","video","width","window","innerWidth","qrCodeResult","qrCodeResult2","ngAfterViewInit","action","isReady","subscribe","res","onEvent","e","console","log","handle","fn","playDeviceFacingBack","devices","device","find","f","test","label","playDevice","deviceId","r","alert","onDowload","download","onSelects","files","loadFiles","onSelects2","loadFilesToScan","__decorate","ViewChild","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\lsesp\\Desktop\\qr-project\\front-end\\src\\app\\app.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\n\nexport class AppComponent implements AfterViewInit {\n  title = \"DieLess\"\n  // https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia#front_and_back_camera\n  public config: ScannerQRCodeConfig = {\n    constraints: {\n      video: {\n        width: window.innerWidth\n      },\n    },\n    // canvasStyles: [\n    //   { /* layer */\n    //     lineWidth: 1,\n    //     fillStyle: '#00950685',\n    //     strokeStyle: '#00950685',\n    //   },\n    //   { /* text */\n    //     font: '17px serif',\n    //     fillStyle: '#ff0000',\n    //     strokeStyle: '#ff0000',\n    //   }\n    // ],\n  };\n\n  public qrCodeResult: ScannerQRCodeSelectedFiles[] = [];\n  public qrCodeResult2: ScannerQRCodeSelectedFiles[] = [];\n\n  @ViewChild('action') action!: NgxScannerQrcodeComponent;\n\n  constructor(private qrcode: NgxScannerQrcodeService) { }\n\n  ngAfterViewInit(): void {\n    this.action.isReady.subscribe((res: any) => {\n      // this.handle(this.action, 'start');\n    });\n  }\n\n  public onEvent(e: ScannerQRCodeResult[], action?: any): void {\n    // e && action && action.pause();\n    console.log(e);\n  }\n\n  public handle(action: any, fn: string): void {\n    const playDeviceFacingBack = (devices: any[]) => {\n      // front camera or back camera check here!\n      const device = devices.find(f => (/back|rear|environment/gi.test(f.label))); // Default Back Facing Camera\n      action.playDevice(device ? device.deviceId : devices[0].deviceId);\n    }\n\n    if (fn === 'start') {\n      action[fn](playDeviceFacingBack).subscribe((r: any) => console.log(fn, r), alert);\n    } else {\n      action[fn]().subscribe((r: any) => console.log(fn, r), alert);\n    }\n  }\n\n  public onDowload(action: NgxScannerQrcodeComponent) {\n    action.download().subscribe(console.log, alert);\n  }\n\n  public onSelects(files: any) {\n    this.qrcode.loadFiles(files, 0.5).subscribe((res: ScannerQRCodeSelectedFiles[]) => {\n      this.qrCodeResult = res;\n    });\n  }\n\n  public onSelects2(files: any) {\n    this.qrcode.loadFilesToScan(files, this.config, 0.5).subscribe((res: ScannerQRCodeSelectedFiles[]) => {\n      console.log(res);\n      this.qrCodeResult2 = res;\n    });\n  }\n}\n\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAQlC,WAAMC,YAAY,GAAlB,MAAMA,YAAY;EA4BvBC,YAAoBC,MAA+B;IAA/B,KAAAA,MAAM,GAANA,MAAM;IA3B1B,KAAAC,KAAK,GAAG,SAAS;IACjB;IACO,KAAAC,MAAM,GAAwB;MACnCC,WAAW,EAAE;QACXC,KAAK,EAAE;UACLC,KAAK,EAAEC,MAAM,CAACC;;;MAGlB;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;KACD;;IAEM,KAAAC,YAAY,GAAiC,EAAE;IAC/C,KAAAC,aAAa,GAAiC,EAAE;EAIA;EAEvDC,eAAeA,CAAA;IACb,IAAI,CAACC,MAAM,CAACC,OAAO,CAACC,SAAS,CAAEC,GAAQ,IAAI;MACzC;IAAA,CACD,CAAC;EACJ;EAEOC,OAAOA,CAACC,CAAwB,EAAEL,MAAY;IACnD;IACAM,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;EAChB;EAEOG,MAAMA,CAACR,MAAW,EAAES,EAAU;IACnC,MAAMC,oBAAoB,GAAIC,OAAc,IAAI;MAC9C;MACA,MAAMC,MAAM,GAAGD,OAAO,CAACE,IAAI,CAACC,CAAC,IAAK,yBAAyB,CAACC,IAAI,CAACD,CAAC,CAACE,KAAK,CAAE,CAAC,CAAC,CAAC;MAC7EhB,MAAM,CAACiB,UAAU,CAACL,MAAM,GAAGA,MAAM,CAACM,QAAQ,GAAGP,OAAO,CAAC,CAAC,CAAC,CAACO,QAAQ,CAAC;IACnE,CAAC;IAED,IAAIT,EAAE,KAAK,OAAO,EAAE;MAClBT,MAAM,CAACS,EAAE,CAAC,CAACC,oBAAoB,CAAC,CAACR,SAAS,CAAEiB,CAAM,IAAKb,OAAO,CAACC,GAAG,CAACE,EAAE,EAAEU,CAAC,CAAC,EAAEC,KAAK,CAAC;KAClF,MAAM;MACLpB,MAAM,CAACS,EAAE,CAAC,EAAE,CAACP,SAAS,CAAEiB,CAAM,IAAKb,OAAO,CAACC,GAAG,CAACE,EAAE,EAAEU,CAAC,CAAC,EAAEC,KAAK,CAAC;;EAEjE;EAEOC,SAASA,CAACrB,MAAiC;IAChDA,MAAM,CAACsB,QAAQ,EAAE,CAACpB,SAAS,CAACI,OAAO,CAACC,GAAG,EAAEa,KAAK,CAAC;EACjD;EAEOG,SAASA,CAACC,KAAU;IACzB,IAAI,CAACnC,MAAM,CAACoC,SAAS,CAACD,KAAK,EAAE,GAAG,CAAC,CAACtB,SAAS,CAAEC,GAAiC,IAAI;MAChF,IAAI,CAACN,YAAY,GAAGM,GAAG;IACzB,CAAC,CAAC;EACJ;EAEOuB,UAAUA,CAACF,KAAU;IAC1B,IAAI,CAACnC,MAAM,CAACsC,eAAe,CAACH,KAAK,EAAE,IAAI,CAACjC,MAAM,EAAE,GAAG,CAAC,CAACW,SAAS,CAAEC,GAAiC,IAAI;MACnGG,OAAO,CAACC,GAAG,CAACJ,GAAG,CAAC;MAChB,IAAI,CAACL,aAAa,GAAGK,GAAG;IAC1B,CAAC,CAAC;EACJ;CACD;AA7CsByB,UAAA,EAApBC,SAAS,CAAC,QAAQ,CAAC,C,2CAAoC;AA1B7C1C,YAAY,GAAAyC,UAAA,EANxB1C,SAAS,CAAC;EACT4C,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,sBAAsB;EACnCC,SAAS,EAAE,CAAC,qBAAqB;CAClC,CAAC,C,EAEW7C,YAAY,CAuExB"},"metadata":{},"sourceType":"module","externalDependencies":[]}